---
import Layout from "~/layouts/PageLayout.astro";
import AlphabetShow from "~/components/partials/AlphabetShow.svelte";
import { SITE } from "~/config.mjs";

export async function getStaticPaths() {
  const data = await fetch(`${SITE.apiUrl}/alphabets.json`).then((response) =>
    response.json()
  );

  const bibles = await fetch(`${SITE.apiUrl}/bibles.json`).then((response) =>
    response.json()
  );

  return data.map((alphabet) => {
    return {
      params: { id: alphabet.script },
    };
  });
}

const { id } = Astro.params;
const alphabetResponse = await fetch(`${SITE.apiUrl}/alphabets/${id}.json`);
const alphabet = await alphabetResponse.json();
---

<Layout>
  <AlphabetShow alphabet={alphabet} />
</Layout>
